/* === Design system (FR/MA) con alto contraste en formulario === */

:root {
  --brand-1: #0d6efd;
  --brand-2: #0b5ed7;

  --bg-soft: hsl(220 20% 98%);
  --text-base: #0f172a;       /* muy oscuro, excelente legibilidad */
  --text-muted: #475569;      /* para copy del layout (no del formulario) */
  --radius: .75rem;
  --shadow-1: 0 10px 30px rgba(0,0,0,.06);
  --maxw: 1100px;
  --gap: 2rem;

  /* Campos del formulario (colores conformes AA) */
  --field-bg: #ffffff;        /* fondo blanco */
  --field-text: #0f172a;      /* texto oscuro */
  --field-border: #64748b;    /* borde ≈4.76:1 vs blanco */
  --field-border-hover: #475569;
  --field-placeholder: #334155; /* más oscuro para legibilidad */
}

/* Tema oscuro del sitio, pero mantenemos la tarjeta del formulario en claro */
@media (prefers-color-scheme: dark) {
  :root {
    --bg-soft: hsl(220 10% 10%);
    --text-muted: #94a3b8;
    --shadow-1: 0 10px 30px rgba(0,0,0,.4);
  }
}

body { background-color: var(--bg-soft); color: var(--text-base); }
.container { max-width: var(--maxw); }
.brand { text-decoration: none; }

/* Link de salto accesible */
.skip-link {
  position: absolute; left: -9999px; top: auto; width: 1px; height: 1px; overflow: hidden;
}
.skip-link:focus { position: static; width: auto; height: auto; padding: .5rem; background: #fff; border-radius: .25rem; }

/* HERO */
.hero {
  display: grid; gap: var(--gap); grid-template-columns: 1.1fr 0.9fr;
  align-items: start; padding-block: 2rem 3.25rem;
  background:
    radial-gradient(1200px 400px at 10% -20%, rgba(13,110,253,.12), transparent 60%),
    radial-gradient(800px 300px at 90% -30%, rgba(13,110,253,.08), transparent 70%);
  border-radius: var(--radius);
}
@media (max-width: 980px) { .hero { grid-template-columns: 1fr; } }

.hero .lead { margin-bottom: .75rem; color: var(--text-muted); }
.accent { color: var(--brand-1); }

.trust { display: flex; gap: 1rem; padding: 0; list-style: none; color: var(--text-muted); flex-wrap: wrap; }
.trust li { display: inline-flex; align-items: center; gap: .35rem; }
.trust li::before { content: "✓"; color: var(--brand-1); }

/* === Tarjeta del formulario: alto contraste total === */
.form-card {
  background: #fff; color: var(--text-base);
  padding: 1.25rem; border-radius: var(--radius); box-shadow: var(--shadow-1);

  /* Sobrescribe tokens de Pico.css SOLO dentro de la tarjeta */
  --pico-form-element-background-color: var(--field-bg);
  --pico-form-element-color: var(--field-text);
  --pico-form-element-border-color: var(--field-border);
  --pico-form-element-hover-border-color: var(--field-border-hover);
  --pico-form-element-focus-color: var(--brand-1);
  --pico-form-element-placeholder-color: var(--field-placeholder);

  /* Clave: elimina “muted” gris de títulos, párrafos y small */
  --pico-muted-color: var(--text-base);
}

/* Forzar que NO quede texto gris claro dentro del formulario */
.form-card :is(h1,h2,h3,h4,h5,h6,p,small:not(.error),label,legend,summary) {
  color: var(--text-base) !important;
  opacity: 1 !important;
}
.form-title { margin-bottom: .25rem; font-weight: 700; }
.form-desc  { margin-top: 0; }

.form-card label { color: var(--text-base); font-weight: 600; }

.form-card input[type="text"],
.form-card input[type="tel"],
.form-card select,
.form-card textarea {
  background-color: var(--field-bg);
  color: var(--field-text);
  border: 1px solid var(--field-border);
}
.form-card input::placeholder,
.form-card textarea::placeholder { color: var(--field-placeholder); opacity: 1; }

.hint { /* si quisieras mantenerla más suave, cámbiala a var(--text-muted) */
  color: var(--text-base);
}
.count { color: var(--text-base); display: inline-block; margin-top: .25rem; }
.error { color: #b00020; min-height: 1.25rem; display: inline-block; }
.status { margin-top: .5rem; }

/* Estados */
.form-card :is(input, select, textarea):focus {
  outline: 2px solid var(--brand-1);
  outline-offset: 2px;
  border-color: var(--brand-1);
}
.form-card :is(input, select, textarea)[aria-invalid="true"] {
  border-color: #b00020 !important;
  outline-color: #b00020 !important;
}

.checkbox { display: flex; gap: .5rem; align-items: flex-start; }

button.primary { background: var(--brand-1); border-color: var(--brand-1); }
button.primary:where(:hover,:focus) { background: var(--brand-2); border-color: var(--brand-2); }

/* Honeypot */
.hp { position: absolute; left: -9999px; opacity: 0; }

/* Pasos */
.steps { padding-block: 2rem; }
.steps-grid { display: grid; gap: 1rem; grid-template-columns: repeat(3, 1fr); }
@media (max-width: 980px) { .steps-grid { grid-template-columns: 1fr; } }
.step { background: #fff; padding: 1rem; border-radius: var(--radius); box-shadow: var(--shadow-1); }

/* FAQ */
.faq details { background: #fff; padding: .75rem 1rem; border-radius: var(--radius); margin-block: .5rem; box-shadow: var(--shadow-1); }
.faq summary { font-weight: 600; }

/* Footer */
footer { padding-block: 2rem 3rem; color: var(--text-muted); }

/* Focus visible global */
:focus-visible { outline: 2px solid var(--brand-1); outline-offset: 2px; border-radius: .25rem; }

/* Micro-interacciones */
@media (prefers-reduced-motion: no-preference) {
  .form-card, .step, .faq details { transition: transform .2s ease, box-shadow .2s ease; }
  .form-card:hover, .step:hover, .faq details:hover { transform: translateY(-2px); box-shadow: 0 16px 40px rgba(0,0,0,.08); }
}

/* Alto contraste si el usuario lo solicita */
@media (prefers-contrast: more) {
  .form-card { --pico-form-element-border-color: #334155; }
  .form-card :is(input, select, textarea) { border-width: 2px; }
}

/* Modo colores forzados (Windows) */
@media (forced-colors: active) {
  .form-card :is(input, select, textarea) {
    forced-color-adjust: auto;
    border-width: 2px;
  }
}

/* Noscript */
.noscript { color: #b00020; margin-top: .5rem; }
